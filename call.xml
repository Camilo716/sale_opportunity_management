<?xml version="1.0"?>
<!-- This file is part of Tryton.  The COPYRIGHT file at the top level of
this repository contains the full copyright notices and license terms. -->
<tryton>
    <data>
        <!-- Creamos una acción de ventana -->
        <!-- En el id va el [id de la acción del menuitem] que va a disparar la acción -->
        <record model="ir.action.act_window" id="act_call_tree">
            <!-- El nombre que se le va a ver al usuario en la acción-->
            <field name="name">Calls</field> 

            <field name="res_model">sale.call</field> 
        </record>

        <!-- Agregamos la vista de arbol -->
        <record model="ir.ui.view" id="call_view_tree">
            <field name="model">sale.call</field> 
            <field name="type">tree</field>
            
            <!-- Nombre del archivo de la vista -->
            <field name="name">call_tree</field>
        </record>
        <!-- Agregamos la vista de formulario -->
        <record model="ir.ui.view" id="call_view_form">
            <field name="model">sale.call</field> 
            <field name="type">form</field>
            <field name="name">call_form</field>
        </record>

        <!-- Indicar que vista va a ser usada en la acción-->
        <!-- En "view" -> Indicar cual de las vistas va a tomar esta acción -->
        <!-- En "act_window"enlazamos con la acción -->
        <record model="ir.action.act_window.view" id="act_call_tree_view1">
            <field name="sequence" eval="10"/>

            <field name="view" ref="call_view_tree"/>

            <field name="act_window" ref="act_call_tree"/>
        </record>

        <record model="ir.action.act_window.view" id="act_call_form_view1">
            <field name="sequence" eval="20"/>

            <!-- Indicar cual de las vistas va a tomar esta acción -->
            <field name="view" ref="call_view_form"/>

            <!-- enlazamos con la acción -->
            <field name="act_window" ref="act_call_tree"/>
        </record>

        <!-- Menú principal -->
        <!-- Sequence: Orden en el que se va a ver en el menú principal -->
        <menuitem
            name="Calls"
            sequence="10"
            id="menu_calls"/>
        <!-- Hijo del menú principal -> Menú de arbol-->
        <!-- action: Identificación de accion que hace el menú  -->
        <menuitem
            parent="menu_calls"
            sequence="10"
            id="menu_calls_tree"
            action="act_call_tree"
        />
            
    </data>
</tryton>