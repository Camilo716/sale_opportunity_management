version: '3.9'
services:
  db.dev:
    image: postgres:12
    environment:
      - POSTGRES_USER=tryton
      - POSTGRES_PASSWORD=tryton
      - POSTGRES_DB=tryton

  app.dev:
    image: python:3.9
    environment:
      - DB_CACHE=/tmp
      - DB_NAME=trytontest
      - TRYTOND_DATABASE_URI=postgresql://tryton:tryton@db.dev:5432/
    depends_on:
      - db.dev
    command: sleep 10h
    volumes:
      - .:/app
    working_dir: /app
